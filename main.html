<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Tetris</title>
		<link rel="stylesheet" href="res/materialize.min.css">
		<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> -->
		<!-- <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->
		<link rel="stylesheet" href="res/index.css">
	</head>
	<body>
		<!-- <div style="width:240px"> -->
		<div id="start">
			<h1>::Quark::</h1>
			<button id= "gbutton" onclick="changeState('game')"><b>P</b>lay</button>
			<button id= "pbutton" onclick="openDonate()"><b>D</b>onate</button>
			<div id = "instructions">
				<div id="title">**Instructions**</div>
				<div>&rarr;</div><div>Right</div>
				<div>&larr;</div><div>Left</div>
				<div>&#8634</div><div>Up</div>
				<div>&#8635</div><div>Down</div>
				<div>&#8615;</div><div>Ctrl</div>
				<div>&#10074;&#10074; &#9658;</i></div><div>P</div>
			</div>
		</div>
		<div id="pause">
			<h1>Pause</h1>
			<button id= "gbutton" onclick="playpause()">un<b>P</b>ause</button>
			<button id= "cbutton" onclick="resetAndStart()"><b>R</b>estart</button>
			<button id= "pbutton" onclick="openDonate()"><b>D</b>onate</button>
			<div id = "instructions">
				<div id="title">**Instructions**</div>
				<div>&rarr;</div><div>Right</div>
				<div>&larr;</div><div>Left</div>
				<div>&#8634</div><div>Up</div>
				<div>&#8635</div><div>Down</div>
				<div>&#8615;</div><div>Ctrl</div>
				<div>&#10074;&#10074; &#9658;</i></div><div>P</div>
			</div>
		</div>
		<div id="gameover">
			<h2>Game Over</h2>
			<button id= "gbutton" onclick="resetAndStart()"><b>R</b>estart</button>
			<button id= "cbutton" onclick="openDonate()"><b>D</b>onate</button>
			<div id = "scores">
				<div id="title">Scores</div>
				<div>&rarr;</div>
				<div>&larr;</div>
				<div>&#8634</div>
				<div>&#8635</div>
			</div>
		</div>
		<div id="game">		
			<div id="info">
				<div id="nlabel">Next:</div>
				<img id="next" src=""></img>
				<!-- <div id="lines">Lines: 0</div> -->
				<div id="points">Points: 0</div>
			</div>
			<canvas id="board">
			</canvas>
		</div>

		<script>
			const electron = require('electron');
	  		const {ipcRenderer,shell} = electron;
	  
			ipcRenderer.on('blur',(event)=>
			{
			  console.log('playpause');
			  changeState("pause");
			});

			ipcRenderer.on('newState',(event,data)=>
			{
			  console.log("changeState:" + data);
			  changeState(data);
			});

			ipcRenderer.on('playpause',(event,data)=>
			{
				playpause();
			});

			function changeState_start()
			{
				changeState("start");
			}

			function changeState_game()
			{
				changeState("game");
			}

			function openDonate()
			{
				shell.openExternal("https://paypal.me/JGarza9788/1");
			}

		</script>

		<script src="tetrominoes.js"></script>
		<script src="tetris.js"></script>
	</body>
</html>
